_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{Hrvy:function(e,t,a){e.exports={input:"miner_input__3BoY8",topPanel:"miner_topPanel__-apy2",space:"miner_space__2myZZ",bottomPanel:"miner_bottomPanel__2HmuN"}},"MPR+":function(e,t,a){"use strict";a.r(t);var c=a("nKUr"),n=a("LvDl"),i=a.n(n),s=a("q1tI"),r=a("/MKj"),l=a("0/uQ"),b=a("nArF"),j=a("Re8R"),o=a("Kk9b"),u=a("RFev"),d=a("CBHK"),m=a("wMKo"),O=a("KQm4"),p=a("N7A6"),_=a.n(p),v=a("ma3e"),x=a("bn13"),f=["#F9F9F9","white"];function h(e){var t=e.files,a=e.filterStr,i=Object(j.b)().t,r=Object(s.useMemo)((function(){return Object(n.sortBy)(t,(function(e){return 0-e.expiredTime}))}),[t]),l=!Object(n.isEmpty)(a)?Object(n.filter)(r,(function(e){return e.cid===a})):r,b=t?Object(n.chunk)(l,10):null,o=Object(n.size)(b),d=Object(s.useState)(0),m=d[0],p=d[1];Object(s.useEffect)((function(){p(0)}),[a]);var h=Math.min(m,o-1),N=Object(s.useMemo)((function(){if(o>5){var e=h+1,t=e>3,a=e<o-2,c=Object(n.range)(Math.max(e-1,2),Math.min(e+2,o));return Object(n.filter)([1,t?"\xb7\xb7\xb7":null].concat(Object(O.a)(c),[a?"\xb7\xb7\xb7":null,o]))}return o>1?Object(n.range)(1,o+1):null}),[o,h]);return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:_.a.head,children:[Object(c.jsx)("div",{className:_.a.tab,children:i("fileCID")}),Object(c.jsx)("div",{className:_.a.tab,children:i("fileSize")}),Object(c.jsx)("div",{className:_.a.tab,children:i("fileExpiredTime")}),Object(c.jsx)("div",{className:_.a.tab,children:i("expectedEarning")})]}),o>0?b[h].map((function(e,t){return Object(c.jsxs)("div",{className:_.a.item,style:{backgroundColor:f[t%2]},children:[Object(c.jsx)(x.a,{data:e.cid,children:Object(c.jsx)("div",{className:_.a.tab,children:Object(u.b)(e.cid)})}),Object(c.jsx)("div",{className:_.a.tab,children:"".concat(e.fileSize," GB")}),Object(c.jsx)("div",{className:_.a.tab,children:"".concat(e.expiredTime)}),Object(c.jsx)("div",{className:_.a.tab,children:"".concat(e.expectedReward," CRU")})]},"key_files_".concat(t))})):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:_.a.empty,style:{backgroundColor:f[0]}}),Object(c.jsx)("div",{className:_.a.empty,children:i("emptyData")})]}),Object(c.jsx)("div",{className:_.a.empty,style:{height:1}}),o>1&&Object(c.jsxs)("div",{className:_.a.pages,children:[Object(c.jsx)("div",{className:_.a.page,onClick:function(){return p(Math.max(0,h-1))},children:Object(c.jsx)(v.a,{})}),N.map((function(e,t){return Object(c.jsx)("div",{className:Object(u.a)(_.a.page,h+1===e?_.a.pageActive:null),onClick:function(){Object(n.isNumber)(e)&&p(e-1)},children:"".concat(e)},"page_tab_".concat(t))})),Object(c.jsx)("div",{className:_.a.page,onClick:function(){return p(Math.min(o-1,h+1))},children:Object(c.jsx)(v.b,{})})]})]})}var N=a("01WV"),g=a("Hrvy"),y=a.n(g),M=a("ZBdN");t.default=function(){var e=Object(j.b)().t,t=function(){var e=Object(r.c)(o.c),t=Object(r.c)(o.b),a=Object(j.c)();return{minerID:e,setMinerID:function(e){return a(Object(o.f)(e))},minerData:t,updateMinerData:function(){console.info("loading--useMiner"),Object(M.b)(Object(l.a)(Object(b.b)(e)),a).subscribe((function(e){return a(Object(o.e)(e))}))}}}(),a=t.minerID,O=t.setMinerID,p=t.minerData,_=t.updateMinerData,v=p,x="********",f=v?Object(u.b)(v.accountId):x,g=v?v.accountId:null,C=v?"".concat(v.freeBalance," CRU"):x,D=v?[{value:i.a.round(v.availableStorage,2)},{value:i.a.round(v.totalStorage-v.availableStorage,2)}]:void 0,k=v?"".concat(v.rewardToBeClaim,"/").concat(v.totalPledge):x,w=v?"".concat(v.effectiveStake," CRU"):x,F=Object(s.useState)(""),I=F[0],P=F[1],S=Object(s.useState)(""),R=(S[0],S[1],Object(n.get)(v,"files"));return Object(c.jsxs)(N.HomeTabs,{active:"miner",children:[Object(c.jsx)("input",{className:y.a.input,spellCheck:!1,style:{marginBottom:"16px"},value:a,placeholder:e("inputMinerID"),onKeyPress:function(e){var t=Object(n.get)(e,"charCode");13!==t&&32!==t||_()},onChange:function(e){return O(e.target.value)}}),Object(c.jsxs)("div",{className:y.a.topPanel,children:[Object(c.jsx)(m.d,{minerID:f,balence:C,minerIDTip:g}),Object(c.jsx)("div",{className:y.a.space}),Object(c.jsx)(d.b,{data:D}),Object(c.jsx)("div",{className:y.a.space}),Object(c.jsx)(m.e,{text:k}),Object(c.jsx)("div",{className:y.a.space}),Object(c.jsx)(m.f,{text:w})]}),Object(c.jsx)("input",{className:y.a.input,spellCheck:!1,style:{margin:"16px 0"},value:I,placeholder:e("inputFileCID"),onChange:function(e){return P(e.target.value)}}),Object(c.jsx)(h,{files:R,filterStr:I})]})}},N7A6:function(e,t,a){e.exports={head:"Files_head__1Utk5",item:"Files_item__1hUN2",tab:"Files_tab__3T3JP",empty:"Files_empty__3Bz_I",pages:"Files_pages__3sPaR",page:"Files_page__151v6",pageActive:"Files_pageActive__2MmtG"}},rt8b:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home/mr",function(){return a("MPR+")}])}},[["rt8b",1,2,3,6,8,5,9,0,4,7]]]);