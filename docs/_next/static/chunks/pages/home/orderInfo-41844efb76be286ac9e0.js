_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{"/rbw":function(e,t,n){"use strict";n.r(t);var r=n("nKUr"),a=n("q1tI"),o=n("Re8R"),c=n("01WV"),i=n("PooS"),s=n.n(i),u=n("Iab2"),l=n.n(u),d=n("A3En"),f=n.n(d),b=n("LvDl"),p=n.n(b),j=n("jmre"),m=n("xwdh"),O=n("v7au"),v=n("e+2y"),h=["#F9F9F9","white"],x=["ALL","SUCCESS","PENDING","FAILED","EXPIRED"];function _(e){var t=e.orders,n=e.setSelectStatusIndex,c=e.selectedStatusIndex,i=e.filterStr,s=function(){return Object(r.jsx)(m.a,{trigger:Object(r.jsxs)("div",{className:f.a.trigger,children:[u("status"),Object(r.jsx)(O.a,{})]}),position:"bottom center",on:"click",closeOnDocumentClick:!0,mouseLeaveDelay:300,mouseEnterDelay:0,arrow:!1,children:Object(r.jsx)("div",{className:f.a.menu,children:x.map((function(e,t){return Object(r.jsx)("div",{className:c==t?f.a.menuItemSelected:f.a.menuItem,onClick:function(){return n(t)},children:e},"statusList_".concat(t))}))})})},u=Object(o.b)().t,l=t?Object(b.chunk)(t,20):null,d=Object(b.size)(l),p=Object(a.useState)(0),_=p[0],g=p[1];Object(a.useEffect)((function(){g(0)}),[i,c]);var y=Math.min(_,d-1);return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:f.a.head,children:[Object(r.jsx)("div",{className:f.a.tab,children:u("fileCID")}),Object(r.jsx)("div",{className:f.a.tab,children:u("fileSize")}),Object(r.jsx)("div",{className:f.a.tab,children:u("fileExpiredTime")}),Object(r.jsx)("div",{className:f.a.tab,children:u("replicas")}),Object(r.jsx)("div",{className:f.a.tab,children:Object(r.jsx)(s,{})})]}),d>0?l[y].map((function(e,t){return Object(r.jsxs)("div",{className:f.a.item,style:{backgroundColor:h[t%2]},children:[Object(r.jsx)("div",{className:f.a.tab,children:Object(r.jsx)(v.a,{data:e.cid})}),Object(r.jsx)("div",{className:f.a.tab,children:"".concat(e.fileSize)}),Object(r.jsx)("div",{className:f.a.tab,children:"".concat(e.expiredTimeStr)}),Object(r.jsx)("div",{className:f.a.tab,children:"".concat(e.replicas)}),Object(r.jsx)("div",{className:f.a.tab,children:"".concat(e.status)})]},"key_files_".concat(t))})):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:f.a.empty,style:{backgroundColor:h[0]}}),Object(r.jsx)("div",{className:f.a.empty,children:u("emptyData")})]}),Object(r.jsx)("div",{className:f.a.empty,style:{height:1}}),Object(r.jsx)(j.a,{pageSize:d,pageIndex:y,setPageIndex:g})]})}var g=n("wMKo"),y=n("33Fu"),w=n("ZBdN"),S=n("0/uQ"),E=n("VNr4"),N=n("nArF"),I=n("RFev"),k=n("/MKj"),A=n("Kk9b");t.default=function(){var e=Object(o.b)().t,t=Object(k.c)(A.a),n=Object(a.useState)(null!==t&&void 0!==t?t:""),i=n[0],u=n[1],d=Object(a.useState)(0),f=d[0],j=d[1],m=function(){var e=Object(a.useState)(null),t=e[0],n=e[1],r=Object(o.c)();return{ordersData:t,updateOrdersData:function(e){if(Object(b.isEmpty)(e))n(null);else{var t=Object(S.a)(Object(N.a)(e)),a=Object(S.a)(Object(N.c)()),o=Object(S.a)(Object(N.b)());Object(w.b)(Object(E.a)([t,a,o]),r).subscribe((function(e){var t,r=Object(b.get)(e,1),a=Object(b.get)(e,2),o=null===(t=Object(b.get)(e,0))||void 0===t?void 0:t.orderedFiles;Object(b.forEach)(o,(function(e){return e.expiredTimeStr=Object(I.b)(6*(e.expiredTime-a)*1e3+r)})),n(o)}))}r(Object(A.g)(e))}}}(),O=m.ordersData,v=m.updateOrdersData;Object(a.useEffect)((function(){v(i)}),[i]);var h=Object(a.useMemo)((function(){return Object(b.sortBy)(O,(function(e){return 0-e.expiredTime}))}),[O]),T=Object(b.isEmpty)("1")?h:Object(b.filter)(h,(function(e){return 0==f||e.status===x[f]}));return Object(r.jsxs)(c.HomeTabs,{active:"orderInfo",children:[Object(r.jsxs)("div",{className:s.a.displayFlex,children:[Object(r.jsx)("input",{className:s.a.input,spellCheck:!1,defaultValue:i,placeholder:e("enterUserId"),onKeyPress:function(e){var t=p.a.get(e,"charCode");13!==t&&32!==t||u(p.a.get(e.target,"value"))}}),Object(r.jsxs)("div",{className:s.a.tips,children:[Object(r.jsx)(y.a,{size:16,style:{marginRight:"2px"}})," "+e("orderInfoTips")]}),Object(r.jsx)(g.f,{text:e("export"),onClick:function(){return function(e){var t=JSON.stringify(e,(function(e,t){return"expiredTimeStr"===e?void 0:t})),n=new Blob([t],{type:"text/plain;charset=utf-8"});l.a.saveAs(n,"Order Info.txt")}(T)},className:s.a.btn})]}),Object(r.jsx)(_,{orders:T,filterStr:i,setSelectStatusIndex:j,selectedStatusIndex:f})]})}},A3En:function(e,t,n){e.exports={head:"Orders_head__2hKP7",item:"Orders_item__3wS50",tab:"Orders_tab__1f0_Z",empty:"Orders_empty__2Hzoj",menu:"Orders_menu__3HfEi",menuItem:"Orders_menuItem__pQ4Zq",menuItemSelected:"Orders_menuItemSelected__1tSMS",trigger:"Orders_trigger__vEUVe"}},Iab2:function(e,t,n){(function(n){var r,a,o;a=[],void 0===(o="function"===typeof(r=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){s(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var c="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,i=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=c.saveAs||("object"!=typeof window||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,t,n){var i=c.URL||c.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener","string"==typeof e?(s.href=e,s.origin===location.origin?o(s):a(s.href)?r(e,t,n):o(s,s.target="_blank")):(s.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(s.href)}),4e4),setTimeout((function(){o(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,c){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,c),n);else if(a(e))r(e,n,c);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){o(i)}))}}:function(e,t,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var o="application/octet-stream"===e.type,s=/constructor/i.test(c.HTMLElement)||c.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&s||i)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var e=l.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},l.readAsDataURL(e)}else{var d=c.URL||c.webkitURL,f=d.createObjectURL(e);a?a.location=f:location.href=f,a=null,setTimeout((function(){d.revokeObjectURL(f)}),4e4)}});c.saveAs=s.saveAs=s,e.exports=s})?r.apply(t,a):r)||(e.exports=o)}).call(this,n("yLpj"))},PooS:function(e,t,n){e.exports={input:"orderInfo_input__2y2Zz",topPanel:"orderInfo_topPanel__3XpNo",space:"orderInfo_space__bhQvJ",bottomPanel:"orderInfo_bottomPanel__2oGXf",btn:"orderInfo_btn__3U2E8",displayFlex:"orderInfo_displayFlex__3j6kH",tips:"orderInfo_tips__28Pg5"}},SY7X:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home/orderInfo",function(){return n("/rbw")}])},VNr4:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("6blF"),a=n("isby"),o=n("mrSG"),c=n("FFOo");function i(e,t){return function(n){if("function"!==typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.thisArg))},e}(),u=function(e){function t(t,n,r){var a=e.call(this,t)||this;return a.project=n,a.count=0,a.thisArg=r||a,a}return o.a(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(c.a),l=n("McSo"),d=n("0/uQ");function f(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(Object(a.a)(n))return b(n,null);if(Object(l.a)(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return b(r.map((function(e){return n[e]})),r)}}if("function"===typeof e[e.length-1]){var o=e.pop();return b(e=1===e.length&&Object(a.a)(e[0])?e[0]:e,null).pipe(i((function(e){return o.apply(void 0,e)})))}return b(e,null)}function b(e,t){return new r.a((function(n){var r=e.length;if(0!==r)for(var a=new Array(r),o=0,c=0,i=function(i){var s=Object(d.a)(e[i]),u=!1;n.add(s.subscribe({next:function(e){u||(u=!0,c++),a[i]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&u||(c===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=a[n],e}),{}):a),n.complete())}}))},s=0;s<r;s++)i(s);else n.complete()}))}}},[["SY7X",1,2,3,4,8,9,6,10,0,5,7]]]);